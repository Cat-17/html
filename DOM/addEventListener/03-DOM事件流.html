<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件流描述的是从页面中接收事件的顺序</title>
    <!-- 事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即是DOM事件流 -->
</head>
<body>
    <!-- 比如我们给一个div注册了点击事件 -->
    <!-- DOM事件流分为3个阶段 -->
    <!-- 捕获阶段  我们在页面写了一个注册点击事件，最开始捕获到事件的是document - html- boby -->
    <!-- 当前目标阶段  找到div-->
    <!-- 冒泡阶段 执行完点击事件以后 在往上 一次捕获 body html document  -->
    <!-- 整个过程称之为冒泡事件流 -->
    <!-- js代码只能执行捕获或者是冒泡其中的一个阶段 -->
    <style>
        .father {
            width: 300px;
            height: 200px;
            background-color: palegreen;
            margin: 100px auto;

        }
        .son {
            width: 200px;
            height: 100px;
            background-color: peru;
        }
    </style>

    <div class="father">
        <div class="son">son盒子</div>
    </div>
    <script>
        // dom 事件流 三个阶段
        // js代码只能执行捕获或者是冒泡其中的一个阶段 
        // onclick 和 addEventListener（ie）只能得到冒泡阶段
        // 捕获阶段 如果addEventListener 第三个参数是true 那么则处于捕获阶段
        // 捕获阶段 捕获到事件的是document - html- boby - father - son
        // var sons = document.querySelector('.son')
        // sons.addEventListener('click',function(){
        //     alert('son')

        // },true)
        // var father = document.querySelector('.father')
        // father.addEventListener('click',function(){
        //     alert('father')

        // },true)

          // 冒泡阶段 如果addEventListener 第三个参数是false 或者省略 那么则处于冒泡阶段
        // 捕获阶段 捕获到事件的是 son--father--boby --html--document 
        var sons = document.querySelector('.son')
        sons.addEventListener('click',function(){
            alert('son')

        },true)
        var father = document.querySelector('.father')
        father.addEventListener('click',function(){
            alert('father')

        },false)
        document.addEventListener('click',function(){
            alert('document')
        },false)

        //实际开发中我们很少使用事件捕获 我们更关注事件冒泡
        // 有些事件是没有冒泡的，比如 onblur onfocus onmouseenter onmouseleave
        // 事件冒泡有时候会带来麻烦，有时候又会帮助很巧妙的做某些事件
    </script>
    
</body>
</html>